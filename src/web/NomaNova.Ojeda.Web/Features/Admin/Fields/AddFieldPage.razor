@page "/admin/fields/add"
@layout AdminLayout

@inject NavigationManager NavManager
@inject OjedaClient Ojeda

@{
    var paths = new Dictionary<string, string>()
    {
        {"Admin", "/admin"},
        {"Fields", "/admin/fields"},
        {"Add", null}
    };
}
<Breadcrumb Paths="@paths" />

<div class="d-flex justify-content-between w-50">
    <h3>Add Field</h3>
</div>

<FieldForm OnSubmit="OnSubmitNewField"></FieldForm>

@code {

    private async Task OnSubmitNewField(FieldDto field)
    {
        var result = await Ojeda.FieldsService.CreateAsync(field);

        if (result.Success)
        {
            NavManager.NavigateTo("/admin/fields");
        }
    }
}